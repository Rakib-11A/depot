<% content_for :title, "Products" %>

<div class="w-full mb-5">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center pb-8">
    <h1 class="mx-auto text-lg font-bold text-4xl">Products</h1>
  </div>

  <table id="products" class="mx-auto">
    <tfoot>
      <tr>
        <td colspan="3">
          <div class="mt-8">
            <%= link_to "New product", new_product_path, class: "inline rounded-lg py-3 px-3 bg-green-600 text-white block font-medium" %>
          </div>
        </td>
      </tr>
    </tfoot>
    <tbody>
      <% @products.each do |product| %>
        <tr class="<%= cycle('bg-green-50', 'bg-white') %> rounded-lg hover:bg-gray-200">
          <td class="py-3 px-2">
            <%= image_tag(product.image_url,  class: 'w-40 h-32 object-cover rounded') %>
          </td>
          <td>
            <h1 class="text-xl font-bold mb-3"><%= product.title %></h1>
            <p>
              <%= truncate(strip_tags(product.description), length: 80) %>
            </p>
          </td>
          <td class="px-3">
            <ul>
              <li class="mt-2 mb-2">
                <%= link_to "Show", product, class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
              </li>

              <li class="mb-2">
                <%= link_to "Edit", edit_product_path(product), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
              </li>

              <li class="mb-2">
                <%= link_to "Destroy", product, method: :delete, class: "w-full sm:w-auto rounded-md px-3.5 py-2.5 text-white bg-red-600 hover:bg-red-500 font-medium cursor-pointer hover:underline", data: { turbo_confirm: "Are you sure?" } %>
              </li>
            </ul>
          </td>
        </tr>
    <% end %>
    </tbody>
  </table>

<!--  <div id="products" class="min-w-full divide-y divide-gray-200 space-y-5">-->
    <%# if @products.any? %>
      <%# @products.each do |product| %>
<!--        <div class="flex flex-col sm:flex-row justify-between items-center pb-5 sm:pb-0">-->
          <%#= render product %>
<!--          <div class="w-full sm:w-auto flex flex-col sm:flex-row space-x-2 space-y-2">-->
            <%#= link_to "Show", product, class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
            <%#= link_to "Edit", edit_product_path(product), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
            <%#= button_to "Destroy", product, method: :delete, class: "w-full sm:w-auto rounded-md px-3.5 py-2.5 text-white bg-red-600 hover:bg-red-500 font-medium cursor-pointer", data: { turbo_confirm: "Are you sure?" } %>
<!--          </div>-->
<!--        </div>-->
      <%# end %>
    <%# else %>
<!--      <p class="text-center my-10">No products found.</p>-->
    <%# end %>
<!--  </div>-->
</div>
